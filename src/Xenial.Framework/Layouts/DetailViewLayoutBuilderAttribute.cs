using System;
using System.ComponentModel;

using Xenial.Framework.Layouts.Items.Base;

namespace Xenial.Framework.Layouts
{
    /// <summary>
    /// Class LayoutBuilderAttribute.
    /// Implements the <see cref="System.Attribute" />
    /// </summary>
    /// <seealso cref="System.Attribute" />
    [AttributeUsage(AttributeTargets.Class, AllowMultiple = true, Inherited = false)]
    [XenialCheckLicence]
    public sealed partial class DetailViewLayoutBuilderAttribute : Attribute
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="DetailViewLayoutBuilderAttribute"/> class.
        /// </summary>
        /// <param name="generatorType">Type of the layout builder.</param>
        /// <autogeneratedoc />
        public DetailViewLayoutBuilderAttribute(Type generatorType)
            => GeneratorType = generatorType ?? throw new ArgumentNullException(nameof(generatorType));

        /// <summary>
        /// Initializes a new instance of the <see cref="DetailViewLayoutBuilderAttribute"/> class.
        /// </summary>
        /// <param name="buildLayoutDelegate">The build layout delegate.</param>
        /// <autogeneratedoc />
        [EditorBrowsable(EditorBrowsableState.Never)]
        public DetailViewLayoutBuilderAttribute(BuildLayoutFunctor buildLayoutDelegate)
            => BuildLayoutDelegate = buildLayoutDelegate;

        /// <summary>
        /// Initializes a new instance of the <see cref="DetailViewLayoutBuilderAttribute"/> class.
        /// </summary>
        /// <param name="buildLayoutMethodName">Name of the build layout method.</param>
        /// <autogeneratedoc />
        public DetailViewLayoutBuilderAttribute(string buildLayoutMethodName)
            => BuildLayoutMethodName = buildLayoutMethodName;

        /// <summary>
        /// Gets the type of the layout builder.
        /// </summary>
        /// <value>The type of the layout builder.</value>
        /// <autogeneratedoc />
        public Type? GeneratorType { get; }

        /// <summary>
        /// Gets the build layout delegate.
        /// </summary>
        /// <value>The build layout delegate.</value>
        /// <autogeneratedoc />
        public BuildLayoutFunctor? BuildLayoutDelegate { get; }

        /// <summary>
        /// Gets the name of the build layout method.
        /// </summary>
        /// <value>The name of the build layout method.</value>
        /// <autogeneratedoc />
        public string? BuildLayoutMethodName { get; }

        ///// <summary>
        ///// Gets or sets the detail view identifier.
        ///// </summary>
        ///// <value>The detail view identifier.</value>
        //public string DetailViewId { get; set; }
    }

    /// <summary>
    /// Delegate BuildLayoutDelegate
    /// </summary>
    /// <returns>Layout.</returns>
    /// <autogeneratedoc />
    public delegate Layout BuildLayoutFunctor();
}
